{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\Desktop\\\\Debora\\\\desafios\\\\front-modulo3\\\\src\\\\componetes\\\\ModalTransations\\\\Modal.js\",\n    _s = $RefreshSig$();\n\nimport './style.css';\nimport close from '../../assests/closeBtn.svg';\nimport { useEffect, useState } from 'react';\nimport InputMask from 'react-input-mask';\nimport { formateWeekDay } from '../../utils/formater';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultValuesForm = {\n  value: 0,\n  category: '',\n  date: '',\n  description: ''\n};\n\nfunction ModalRegister(_ref) {\n  _s();\n\n  let {\n    open,\n    setOpen,\n    currentUser,\n    setCurrentUser\n  } = _ref;\n  const [active, setActive] = useState('debit');\n  const [form, setForm] = useState(defaultValuesForm);\n  useEffect(() => {\n    if (currentUser) {\n      setActive(currentUser.type);\n      setForm({\n        date: format(new Date(currentUser.date), 'dd/MM/yyyy'),\n        category: currentUser.category,\n        value: currentUser.value,\n        description: currentUser.description\n      });\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (open) {\n      setForm(defaultValuesForm);\n    }\n  }, [open]);\n\n  function handleChange(target) {\n    setForm({ ...form,\n      [target.name]: target.value\n    });\n  }\n\n  async function handleRegister(event) {\n    event.preventDefault();\n    const [day, month, year] = form.date.split('/');\n    const select = new Date(`${month}/${day}/${year}`);\n    const post = {\n      date: select,\n      week_day: formateWeekDay(select),\n      description: form.description,\n      value: form.value,\n      category: form.category,\n      type: active\n    };\n    const response = await fetch('http://localhost:3333/transactions', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(post)\n    });\n    await response.json();\n    setOpen(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"backdrop\",\n    style: {\n      display: !open && 'none'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-container modal-storage\",\n      alt: \"close\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: close,\n        className: \"close-icon\",\n        onClick: () => setOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 72\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Adcionar Registro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn-ent ${active === 'credit' && 'credit'}`,\n          onClick: () => setActive('credit'),\n          children: \"Entrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn-ent ${active === 'debit' && 'debit'}`,\n          onClick: () => setActive('debit'),\n          children: \"Sa\\xEDda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRegister,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"valor\",\n            children: \"Valor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"valor\",\n            type: \"number\",\n            name: \"value\",\n            value: form.value,\n            onChange: event => handleChange(event.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"categoria\",\n            children: \"Categoria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"categoria\",\n            type: \"text\",\n            name: \"category\",\n            value: form.category,\n            onChange: event => handleChange(event.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"data\",\n            children: \"Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(InputMask, {\n            mask: \"99/99/9999\",\n            id: \"data\",\n            type: \"text\",\n            name: \"date\",\n            value: form.date,\n            onChange: event => handleChange(event.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"descricao\",\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"descricao\",\n            type: \"text\",\n            name: \"description\",\n            value: form.description,\n            onChange: event => handleChange(event.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-btn-insert\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"confirm-insert\",\n            children: \"Confirmar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ModalRegister, \"vCwHuWyS9r+ooXSkaTNFtS/Fhqk=\");\n\n_c = ModalRegister;\n;\nexport default ModalRegister;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalRegister\");","map":{"version":3,"sources":["C:/Users/Lucas/Desktop/Debora/desafios/front-modulo3/src/componetes/ModalTransations/Modal.js"],"names":["close","useEffect","useState","InputMask","formateWeekDay","format","defaultValuesForm","value","category","date","description","ModalRegister","open","setOpen","currentUser","setCurrentUser","active","setActive","form","setForm","type","Date","handleChange","target","name","handleRegister","event","preventDefault","day","month","year","split","select","post","week_day","response","fetch","method","headers","body","JSON","stringify","json","display"],"mappings":";;;AAAA,OAAO,aAAP;AACA,OAAOA,KAAP,MAAkB,4BAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,SAASC,MAAT,QAAuB,UAAvB;;AAGA,MAAMC,iBAAiB,GAAG;AACtBC,EAAAA,KAAK,EAAE,CADe;AAEtBC,EAAAA,QAAQ,EAAE,EAFY;AAGtBC,EAAAA,IAAI,EAAE,EAHgB;AAItBC,EAAAA,WAAW,EAAE;AAJS,CAA1B;;AAQA,SAASC,aAAT,OAAuE;AAAA;;AAAA,MAAhD;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA,WAAjB;AAA8BC,IAAAA;AAA9B,GAAgD;AACnE,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,OAAD,CAApC;AACA,QAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAACI,iBAAD,CAAhC;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIa,WAAJ,EAAiB;AACbG,MAAAA,SAAS,CAACH,WAAW,CAACM,IAAb,CAAT;AAEAD,MAAAA,OAAO,CAAC;AACJV,QAAAA,IAAI,EAAEJ,MAAM,CAAC,IAAIgB,IAAJ,CAASP,WAAW,CAACL,IAArB,CAAD,EAA6B,YAA7B,CADR;AAEJD,QAAAA,QAAQ,EAAEM,WAAW,CAACN,QAFlB;AAGJD,QAAAA,KAAK,EAAEO,WAAW,CAACP,KAHf;AAIJG,QAAAA,WAAW,EAAEI,WAAW,CAACJ;AAJrB,OAAD,CAAP;AAMH;AAEJ,GAZQ,EAYN,CAACI,WAAD,CAZM,CAAT;AAgBAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIW,IAAJ,EAAU;AACNO,MAAAA,OAAO,CAACb,iBAAD,CAAP;AACH;AACJ,GAJQ,EAIN,CAACM,IAAD,CAJM,CAAT;;AAMA,WAASU,YAAT,CAAsBC,MAAtB,EAA8B;AAC1BJ,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,OAACK,MAAM,CAACC,IAAR,GAAeD,MAAM,CAAChB;AAAjC,KAAD,CAAP;AACH;;AACD,iBAAekB,cAAf,CAA8BC,KAA9B,EAAqC;AACjCA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAM,CAACC,GAAD,EAAMC,KAAN,EAAaC,IAAb,IAAqBZ,IAAI,CAACT,IAAL,CAAUsB,KAAV,CAAgB,GAAhB,CAA3B;AACA,UAAMC,MAAM,GAAG,IAAIX,IAAJ,CAAU,GAAEQ,KAAM,IAAGD,GAAI,IAAGE,IAAK,EAAjC,CAAf;AACA,UAAMG,IAAI,GAAG;AACTxB,MAAAA,IAAI,EAAEuB,MADG;AAETE,MAAAA,QAAQ,EAAE9B,cAAc,CAAC4B,MAAD,CAFf;AAGTtB,MAAAA,WAAW,EAAEQ,IAAI,CAACR,WAHT;AAITH,MAAAA,KAAK,EAAEW,IAAI,CAACX,KAJH;AAKTC,MAAAA,QAAQ,EAAEU,IAAI,CAACV,QALN;AAMTY,MAAAA,IAAI,EAAEJ;AANG,KAAb;AAQA,UAAMmB,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,EAAuC;AAC/DC,MAAAA,MAAM,EAAE,MADuD;AAE/DC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFsD;AAK/DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AALyD,KAAvC,CAA5B;AAQA,UAAME,QAAQ,CAACO,IAAT,EAAN;AACA7B,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,KAAK,EAAE;AAAE8B,MAAAA,OAAO,EAAE,CAAC/B,IAAD,IAAS;AAApB,KAAjC;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,+BAAf;AAA+C,MAAA,GAAG,EAAC,OAAnD;AAAA,8BAA2D;AAAK,QAAA,GAAG,EAAEZ,KAAV;AAAiB,QAAA,SAAS,EAAC,YAA3B;AAAwC,QAAA,OAAO,EAAE,MAAMa,OAAO,CAAC,KAAD;AAA9D;AAAA;AAAA;AAAA;AAAA,cAA3D,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACI;AAAQ,UAAA,SAAS,EAAG,WAAUG,MAAM,KAAK,QAAX,IAAuB,QAAS,EAA9D;AAAiE,UAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,QAAD,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAG,WAAUD,MAAM,KAAK,OAAX,IAAsB,OAAQ,EAA5D;AAA+D,UAAA,OAAO,EAAE,MAAMC,SAAS,CAAC,OAAD,CAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAMI;AAAM,QAAA,QAAQ,EAAEQ,cAAhB;AAAA,gCACI;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,EAAE,EAAC,OADP;AAEI,YAAA,IAAI,EAAC,QAFT;AAGI,YAAA,IAAI,EAAC,OAHT;AAII,YAAA,KAAK,EAAEP,IAAI,CAACX,KAJhB;AAKI,YAAA,QAAQ,EAAGmB,KAAD,IAAWJ,YAAY,CAACI,KAAK,CAACH,MAAP;AALrC;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAUI;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,EAAE,EAAC,WADP;AAEI,YAAA,IAAI,EAAC,MAFT;AAGI,YAAA,IAAI,EAAC,UAHT;AAII,YAAA,KAAK,EAAEL,IAAI,CAACV,QAJhB;AAKI,YAAA,QAAQ,EAAGkB,KAAD,IAAWJ,YAAY,CAACI,KAAK,CAACH,MAAP;AALrC;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAoBI;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,SAAD;AACI,YAAA,IAAI,EAAC,YADT;AAEI,YAAA,EAAE,EAAC,MAFP;AAGI,YAAA,IAAI,EAAC,MAHT;AAII,YAAA,IAAI,EAAC,MAJT;AAKI,YAAA,KAAK,EAAEL,IAAI,CAACT,IALhB;AAMI,YAAA,QAAQ,EAAGiB,KAAD,IAAWJ,YAAY,CAACI,KAAK,CAACH,MAAP;AANrC;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBJ,eA+BI;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,EAAE,EAAC,WADP;AAEI,YAAA,IAAI,EAAC,MAFT;AAGI,YAAA,IAAI,EAAC,aAHT;AAII,YAAA,KAAK,EAAEL,IAAI,CAACR,WAJhB;AAKI,YAAA,QAAQ,EAAGgB,KAAD,IAAWJ,YAAY,CAACI,KAAK,CAACH,MAAP;AALrC;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/BJ,eAyCI;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA,iCACI;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAzCJ;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAwDH;;GA9GQZ,a;;KAAAA,a;AA8GR;AAED,eAAeA,aAAf","sourcesContent":["import './style.css';\r\nimport close from '../../assests/closeBtn.svg';\r\nimport { useEffect, useState } from 'react';\r\nimport InputMask from 'react-input-mask';\r\nimport { formateWeekDay } from '../../utils/formater';\r\nimport { format } from 'date-fns'\r\n\r\n\r\nconst defaultValuesForm = {\r\n    value: 0,\r\n    category: '',\r\n    date: '',\r\n    description: ''\r\n}\r\n\r\n\r\nfunction ModalRegister({ open, setOpen, currentUser, setCurrentUser }) {\r\n    const [active, setActive] = useState('debit');\r\n    const [form, setForm] = useState(defaultValuesForm);\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            setActive(currentUser.type);\r\n\r\n            setForm({\r\n                date: format(new Date(currentUser.date), 'dd/MM/yyyy'),\r\n                category: currentUser.category,\r\n                value: currentUser.value,\r\n                description: currentUser.description\r\n            });\r\n        }\r\n\r\n    }, [currentUser])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (open) {\r\n            setForm(defaultValuesForm);\r\n        }\r\n    }, [open]);\r\n\r\n    function handleChange(target) {\r\n        setForm({ ...form, [target.name]: target.value })\r\n    }\r\n    async function handleRegister(event) {\r\n        event.preventDefault();\r\n\r\n        const [day, month, year] = form.date.split('/');\r\n        const select = new Date(`${month}/${day}/${year}`);\r\n        const post = {\r\n            date: select,\r\n            week_day: formateWeekDay(select),\r\n            description: form.description,\r\n            value: form.value,\r\n            category: form.category,\r\n            type: active\r\n        }\r\n        const response = await fetch('http://localhost:3333/transactions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(post),\r\n        });\r\n\r\n        await response.json();\r\n        setOpen(false);\r\n    }\r\n\r\n    return (\r\n        <div className='backdrop' style={{ display: !open && 'none' }}>\r\n            <div className='modal-container modal-storage' alt='close'><img src={close} className='close-icon' onClick={() => setOpen(false)} />\r\n                <h2>Adcionar Registro</h2>\r\n                <div className='container-buttons'>\r\n                    <button className={`btn-ent ${active === 'credit' && 'credit'}`} onClick={() => setActive('credit')}>Entrada</button>\r\n                    <button className={`btn-ent ${active === 'debit' && 'debit'}`} onClick={() => setActive('debit')}>Saída</button>\r\n                </div>\r\n                <form onSubmit={handleRegister}>\r\n                    <div>\r\n                        <label htmlFor='valor'>Valor</label>\r\n                        <input\r\n                            id='valor'\r\n                            type='number'\r\n                            name='value'\r\n                            value={form.value}\r\n                            onChange={(event) => handleChange(event.target)} />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor='categoria'>Categoria</label>\r\n                        <input\r\n                            id='categoria'\r\n                            type='text'\r\n                            name='category'\r\n                            value={form.category}\r\n                            onChange={(event) => handleChange(event.target)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor='data'>Data</label>\r\n                        <InputMask\r\n                            mask='99/99/9999'\r\n                            id='data'\r\n                            type='text'\r\n                            name='date'\r\n                            value={form.date}\r\n                            onChange={(event) => handleChange(event.target)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor='descricao'>Descrição</label>\r\n                        <input\r\n                            id='descricao'\r\n                            type='text'\r\n                            name='description'\r\n                            value={form.description}\r\n                            onChange={(event) => handleChange(event.target)}\r\n                        />\r\n                    </div>\r\n                    <div className='container-btn-insert'>\r\n                        <button className='confirm-insert'>Confirmar</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ModalRegister;"]},"metadata":{},"sourceType":"module"}